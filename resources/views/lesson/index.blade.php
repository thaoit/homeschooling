@extends('master.master')


@section('content')

<div class="container">
  <input type="button" name="creating_lesson" value="Create lesson" class="btn btn-default" data-toggle="modal" data-target="#lesson-modal">

  <div class="lesson-road">
    <div>

      <div class="top">
        <div class="viewed" style="display: none;">
          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View" >14</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed">

          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed" style="display: none;">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">15</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed">
          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed" style="display: none;">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">16</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed" style="display: none;">
          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">14</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed">

          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed" style="display: none;">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">15</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed">
          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed" style="display: none;">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">16</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed" style="display: none;">
          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">14</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed">

          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed" style="display: none;">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">15</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>

      <div class="top">
        <div class="viewed">
          <img src="{{ asset('img/flag-filled.png') }}" alt="Viewed">
        </div>
        <div class="not-viewed" style="display: none;">
          <p>New</p>
          <img src="{{ asset('img/arrow-up.png') }}" alt="New">
        </div>
      </div>

      <div class="lesson-progress">
        <div>
          <div class="col-xs-6 one"></div>
          <div class="col-xs-6 two"></div>
        </div>
        <div>
          <div class="col-xs-6 three"></div>
          <div class="col-xs-6 four"></div>
        </div>
      </div>

      <div class="bottom">
        <a href="" class="btn btn-default control-view" title="View">16</a>
        <div class="flipper-container">
          <div class="flipper">
            <div class="control-container">
              <p>Have fun with this!</p>
              <div class="control-others">
                <p><a href="">Edit</a></p>
                <p><a href="">Delete</a></p>
              </div>
            </div>
            <div class="content">
              <p>Research on dilemma with two dangers in ECA, South 13th, Africa</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="lesson-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">
        <form action="" method="post">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <input class="form-control" id="title" type="text" name="title" placeholder="Title here" required>
          </div>

          <div class="modal-body">
            <div class="form-group">
              <input class="form-control" type="text" name="intro" placeholder="Intro here">
            </div>
            <div class="form-group">
              <input class="form-control" type="text" name="topic" placeholder="Topic here" required>
            </div>

            <div class="form-group" id="outline-container">
              <p>Outline</p>
              <div class="input-group">
                <span class="input-group-addon step-index">Step 1 - </span>
                <input class="form-control outline" type="text">
                <span class='input-group-addon close-outline'>&times;</span>
              </div>
            </div>
          </div>

          <div class="modal-footer">
            <div class="">
              <input class="btn btn-default" type="submit" name="submit" value="OK">
              <input class="btn btn-default" type="button" name="cancel" value="Cancel" data-dismiss="modal">
            </div>
          </div>

        </form>
      </div>

    </div>
  </div>
</div>

@endsection

@section('styles')
  <style media="screen">
    #outline-container{
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
    }

    #outline-container > p{

    }

    #outline-container > .input-group > .input-group-addon{
      color: #ccc;
      background-color: #fff;
      border: none;
    }

    #outline-container > .input-group > input{
      border: none;
      box-shadow: none;
      border-bottom: 1px solid #ccc;
    }

    .modal-header > #title{
      font-size: 2em;
      font-weight: bold;
      border: none;
      box-shadow: none;
      border-bottom: 1px solid #ccc;
    }

    /* lesson road */
    .lesson-road{
      text-align: center;
    }

    .lesson-road > div{
      padding: 0;
      width: 100%;
    }

    .lesson-road .top{
      padding-bottom: 5px;
    }

    .lesson-road .top .viewed, .not-viewed{
      height: 40px;
    }

    .lesson-road .top .viewed{
      position: relative;
    }

    .lesson-road .top .viewed img{
      position: absolute;
      bottom: 0;
      height: 20px;
      margin-left: -5px;
    }

    .lesson-road .top .not-viewed p{
      margin: 0;
    }

    .lesson-road .top .not-viewed img{
      height: 20px;
    }

    .lesson-road .lesson-progress{
      height: 16px;
      padding-bottom: 5px;
    }

    .lesson-road .lesson-progress .one, .two, .three, .four{
      height: 8px;
    }

    .lesson-road .lesson-progress .one{
      border-bottom: 1px solid #000;
      border-right: 2px solid #000;
    }

    .lesson-road .lesson-progress .two{
      border-bottom: 1px solid #000;
      border-left: 2px solid #000;
    }

    .lesson-road .lesson-progress .three{
      border-top: 1px solid #000;
      border-right: 2px solid #000;
    }

    .lesson-road .lesson-progress .four{
      border-top: 1px solid #000;
      border-left: 2px solid #000;
    }

    .lesson-road .bottom .control-view{
      margin-bottom: 25px;
    }

    .lesson-road .bottom .flipper-container{
      -webkit-perspective: 1000px;
      -o-perspective: 1000px;
      -moz-perspective: 1000px;
      perspective: 1000px;
    }

    .lesson-road .bottom .flipper-container:hover .control-container{
      -webkit-transform: rotateY(0deg);
      -o-transform: rotateY(0deg);
      -moz-transform: rotateY(0deg);
      -ms-transform: rotateY(0deg);
      transform: rotateY(0deg);
    }

    .lesson-road .bottom .flipper-container:hover .content{
      -webkit-transform: rotateY(180deg);
      -o-transform: rotateY(180deg);
      -moz-transform: rotateY(180deg);
      -ms-transform: rotateY(180deg);
      transform: rotateY(180deg);
    }

    .lesson-road .bottom .flipper{
      position: relative;
    }

    .lesson-road .bottom .flipper-container, .control-container, .content{
      width: 100%;
      height: 100px;
    }

    .lesson-road .bottom .flipper-container .control-container, .content{
      position: absolute;
      top: 0;
      left: 0;

      -webkit-backface-visibility: hidden;
      -o-backface-visibility: hidden;
      -moz-backface-visibility: hidden;
      backface-visibility: hidden;

      -webkit-transition: 0.5s;
      -o-transition: 0.5s;
      -moz-transition: 0.5s;
      -ms-transition: 0.5s;
      transition: 0.5s;

      -webkit-transform-style: preserve-3d;
      -o-transform-style: preserve-3d;
      -moz-transform-style: preserve-3d;
      -ms-transform-style: preserve-3d;
      transform-style: preserve-3d;
    }

    .lesson-road .bottom .flipper-container .content{
      z-index: 2;
    }

    .lesson-road .bottom .flipper-container .control-container{
      -webkit-transform: rotateY(180deg);
      -o-transform: rotateY(180deg);
      -moz-transform: rotateY(180deg);
      -ms-transform: rotateY(180deg);
      transform: rotateY(180deg);
    }

    .lesson-road .bottom .content{
      padding: 0 20px;
    }

    .lesson-road .bottom .content p{
      overflow: hidden;
      line-height: 1.2em;
      max-height: 3.6em;
      position: relative;
      margin-right: -1em;
      padding-right: 1em;
      text-align: justify;
      display: inline-block;
    }

    .lesson-road .bottom .content p:before{
      content: '...';
      position: absolute;
      right: 0;
      bottom: 0;
    }

    .lesson-road .bottom .content p:after{
      content: '';
      position: absolute;
      right: 0;
      width: 1em;
      height: 1em;
      margin-top: 0.2em;
      background: white;
    }


    @media all and (min-width: 992px){
      .lesson-road > div{
        width: 25%;
        float: left;
      }

      .lesson-road > div:nth-child(8n+5){
        float: right;
      }

      .lesson-road > div:nth-child(8n+6){
        float: right;
      }

      .lesson-road > div:nth-child(8n+7){
        float: right;
      }

      .lesson-road > div:nth-child(8n+8){
        float: right;
      }

      .lesson-road > div:nth-child(8n+4) .lesson-progress .four{
        border-right: 2px solid #000;
      }

      .lesson-road > div:nth-child(8n+4) .bottom{
        border-right: 2px solid #000;
      }

      .lesson-road > div:nth-child(8n+5) .lesson-progress .two{
        border-right: 2px solid #000;
      }

      .lesson-road > div:nth-child(8n+5) .top{
        border-right: 2px solid #000;
      }

      .lesson-road > div:nth-child(8n+8) .lesson-progress .three{
        border-left: 2px solid #000;
      }

      .lesson-road > div:nth-child(8n+8) .bottom{
        border-left: 2px solid #000;
      }

      .lesson-road > div:not(:nth-child(1)):nth-child(8n+1) .top{
        border-left: 2px solid #000;
      }

      .lesson-road > div:not(:nth-child(1)):nth-child(8n+1) .lesson-progress .one{
        border-left: 2px solid #000;
      }
    }

      @media all and (min-width: 768px) and (max-width: 991px){
        .lesson-road > div{
          width: 33.3333%;
          float: left;
        }

        .lesson-road > div:nth-child(6n+4){
          float: right;
        }

        .lesson-road > div:nth-child(6n+5){
          float: right;
        }

        .lesson-road > div:nth-child(6n+6){
          float: right;
        }

        .lesson-road > div:nth-child(6n+3) .bottom{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(6n+3) .lesson-progress .four{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(6n+4) .top{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(6n+4) .lesson-progress .two{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(6n+6) .bottom{
          border-left: 2px solid #000;
        }

        .lesson-road > div:nth-child(6n+6) .lesson-progress .three{
          border-left: 2px solid #000;
        }

        .lesson-road > div:not(:nth-child(1)):nth-child(6n+1) .top{
          border-left: 2px solid #000;
        }

        .lesson-road > div:not(:nth-child(1)):nth-child(6n+1) .lesson-progress .one{
          border-left: 2px solid #000;
        }
      }

      @media all and (min-width: 400px) and (max-width: 767px){
        .lesson-road > div{
          width: 50%;
          float: left;
        }

        .lesson-road > div:nth-child(4n+3){
          float: right;
        }

        .lesson-road > div:nth-child(4n+4){
          float: right;
        }

        .lesson-road > div:nth-child(4n+2) .bottom{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(4n+2) .lesson-progress .four{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(4n+3) .top{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(4n+3) .lesson-progress .two{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(4n+4) .bottom{
          border-left: 2px solid #000;
        }

        .lesson-road > div:nth-child(4n+4) .lesson-progress .three{
          border-left: 2px solid #000;
        }

        .lesson-road > div:not(:nth-child(1)):nth-child(4n+1) .top{
          border-left: 2px solid #000;
        }

        .lesson-road > div:not(:nth-child(1)):nth-child(4n+1) .lesson-progress .one{
          border-left: 2px solid #000;
        }
      }

      @media all and (max-width:399px) {
        .lesson-road > div:nth-child(2n+1) .bottom{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(2n+1) .lesson-progress .four{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(2n+2) .top{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(2n+2) .lesson-progress .two{
          border-right: 2px solid #000;
        }

        .lesson-road > div:nth-child(2n+2) .bottom{
          border-left: 2px solid #000;
        }

        .lesson-road > div:nth-child(2n+2) .lesson-progress .three{
          border-left: 2px solid #000;
        }

        .lesson-road > div:not(:nth-child(1)):nth-child(2n+1) .top{
          border-left: 2px solid #000;
        }

        .lesson-road > div:not(:nth-child(1)):nth-child(2n+1) .lesson-progress .one{
          border-left: 2px solid #000;
        }
      }

  </style>
@endsection

@section('scripts')

  <script>
    $(document).ready(function(){
      var step = 2;

      $('#outline-container').on('keypress', '.outline', function(e){

        // pressing Enter or not
        if(e.which == 13 || e.keyCode == 13){
          e.preventDefault();

          var new_outline = "<div class='input-group'>" +
                              "<span class='input-group-addon step-index'>Step " + step + " - </span>" +
                              "<input class='form-control outline' type='text' >" +
                              "<span class='input-group-addon close-outline'>&times;</span>" +
                            "</div>";

          $('#outline-container').append(new_outline);
          $('#outline-container .outline').last().focus();
          step++;
        }
      });

      $('#outline-container').on('click', '.close-outline', function(){
          var num_of_outline = $('#outline-container .outline').length;

          if(num_of_outline > 1){

              var current_outline_index = $(this).parent().index();

              // change name of steps following the current outline
              for(var i = current_outline_index; i < num_of_outline; i++){
                $('#outline-container .step-index')[i].textContent = 'Step ' + i + ' - ';
              }

              // remove the outline and decrease step
              $(this).parent().remove();
              step--;
          }
      })

      // lesson-road

      /*$('.lesson-road .bottom .control-view').on('mouseenter', function(){

          $(this).siblings('.control-container').show();
      })

      $('.lesson-road .bottom .control-container').on('mouseleave', function(){

          $(this).hide();
      })*/

      var total_of_lessons = $('lesson-road > div').length;
      var num_of_lessons_on_rows = 3;
      $('.lesson-road .control-view:nth-child(2)').css('background', 'yellow');

    });
  </script>

@endsection
